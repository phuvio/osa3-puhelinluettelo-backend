{"version":3,"sources":["services/persons.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Error.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","Persons","_ref","showUsers","remove","react_default","a","createElement","Fragment","map","person","key","name","number","onClick","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","addName","onSubmit","type","value","onChange","Filter","newFilter","handleFilterChange","Error","message","className","Notification","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","success","setSuccess","_useState11","_useState12","error","setError","useEffect","personsService","initialPersons","length","filter","toLowerCase","includes","components_Notification","components_Error","components_Filter","event","target","components_PersonForm","preventDefault","some","element","trim","window","confirm","find","p","changedNumber","objectSpread","updatedPerson","setTimeout","catch","personObject","returnedPerson","components_Persons","e","removedPerson","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.3bfafb33.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  remove\r\n}","import React from \"react\"\r\n\r\nconst Persons = ({showUsers, remove}) => {\r\n  return <>\r\n      <span> \r\n        {showUsers.map(person => \r\n          <p key={person.name}>\r\n            {person.name} {person.number} \r\n            <button onClick={() => remove(person)}>\r\n              delete\r\n            </button>\r\n          </p>  \r\n        )}\r\n      </span>\r\n    </>\r\n}\r\n\r\nexport default Persons","import React from \"react\"\r\n\r\nconst PersonForm = ({newName, handleNameChange, newNumber, handleNumberChange, addName}) => \r\n  <form onSubmit={addName}>\r\n    <div>\r\n      name: <input \r\n                type=\"text\"\r\n                value={newName} \r\n                onChange={handleNameChange}\r\n            />\r\n            <br></br>\r\n      number: <input \r\n                value={newNumber}\r\n                onChange={handleNumberChange}\r\n              />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => \r\n  <div>\r\n    filter shown with <input \r\n                          type=\"text\"\r\n                          value={newFilter}\r\n                          onChange={handleFilterChange}\r\n                      />\r\n  </div>\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst Error = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Error","import React from \"react\"\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className=\"success\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport personsService from './services/persons'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Error from './components/Error'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [success, setSuccess] = useState(null)\n  const [error, setError] = useState(null)\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  useEffect(() => {\n    personsService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const remove = (e) => {\n    if (window.confirm(`delete ${e.name} ?`)) {\n      personsService\n        .remove(e.id)\n          .then(removedPerson => {\n            setPersons(persons.filter(p => p.id !== e.id))\n            setSuccess(\n              `Deleted ${e.name}`\n            )\n            setTimeout(() => {\n              setSuccess(null)\n            }, 5000)\n          } )\n          .catch(error => {\n            setError(\n              `Information of ${e.name} has already been removed from server`\n            )\n            setTimeout(() => {\n              setError(null)\n            }, 5000)\n            setPersons(persons.filter(p => p.name !== e.name))\n          })\n    }\n  }\n\n  const showUsers = (newFilter !== '' && persons.length !== 0)\n    ? persons.filter(person => {\n        return person.name.toLowerCase().includes(newFilter)\n      })\n    : persons\n\n  const addName = (event) => {\n    event.preventDefault()\n    const isFound = persons.some(element => {\n      if (element.name === newName.trim()) {\n        return true\n      }\n      return false\n    })\n    if (isFound) { \n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(p => p.name === newName.trim())\n        const changedNumber = { ...person, number: newNumber }\n        personsService\n          .update(person.id, changedNumber)\n            .then(updatedPerson => {\n              setPersons(persons.map(p => p.id !== person.id ? p : updatedPerson))\n              setSuccess(\n                `${newName.trim()}'s number changed`\n              )\n              setTimeout(() => {\n                setSuccess(null)\n              }, 5000)\n            })\n            .catch(error => {\n              setError(\n                `Information of ${person.name} has already been removed from server`\n              )\n              setTimeout(() => {\n                setError(null)\n              }, 5000)\n              setPersons(persons.filter(p => p.name !== person.name))\n            })\n      }\n    } else if (newName.trim() === '') {\n    } else {\n      const personObject = {\n            name: newName.trim(),\n            number: newNumber,\n          }\n      personsService\n        .create(personObject)\n          .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setSuccess(\n            `Added ${newName.trim()}`\n          )\n          setTimeout(() => {\n            setSuccess(null)\n          }, 5000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={success} />\n      <Error message={error} />\n\n      <Filter \n        newFilter={newFilter} \n        handleFilterChange={handleFilterChange} \n      />\n\n      <h3>Add a new</h3>\n\n      <PersonForm \n        newName={newName} \n        handleNameChange={handleNameChange} \n        newNumber={newNumber} \n        handleNumberChange={handleNumberChange} \n        addName={addName} \n      />\n\n      <h3>Numbers</h3>\n\n      <Persons \n        showUsers={showUsers} \n        remove={remove} \n      />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\nimport App from './App'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)\n"],"sourceRoot":""}