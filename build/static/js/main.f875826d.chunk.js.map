{"version":3,"sources":["services/persons.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Error.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","Persons","_ref","showUsers","remove","react_default","a","createElement","Fragment","map","person","key","name","number","className","onClick","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","addName","onSubmit","type","value","onChange","Filter","newFilter","handleFilterChange","Error","message","Notification","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","success","setSuccess","_useState11","_useState12","error","setError","useEffect","personsService","initialPersons","length","filter","toLowerCase","includes","components_Notification","components_Error","components_Filter","target","components_PersonForm","_ref2","_ref3","event","preventDefault","foundPerson","find","p","trim","window","confirm","objectSpread","updatedPerson","setTimeout","catch","startsWith","personObject","returnedPerson","components_Persons","e","removedPerson","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.f875826d.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  remove\r\n}","import React from \"react\"\r\n\r\nconst Persons = ({showUsers, remove}) => {\r\n  return <>\r\n      <span> \r\n        {showUsers.map(person => \r\n          <p key={person.id}>\r\n            {person.name} {person.number}  \r\n            <button className=\"button\" onClick={() => remove(person)}>\r\n              delete\r\n            </button>\r\n          </p>  \r\n        )}\r\n      </span>\r\n    </>\r\n}\r\n\r\nexport default Persons","import React from \"react\"\r\n\r\nconst PersonForm = ({newName, handleNameChange, newNumber, handleNumberChange, addName}) => \r\n  <form onSubmit={addName}>\r\n    <div>\r\n      name: <input \r\n                type=\"text\"\r\n                value={newName} \r\n                onChange={handleNameChange}\r\n            />\r\n            <br></br>\r\n      number: <input \r\n                value={newNumber}\r\n                onChange={handleNumberChange}\r\n              />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => \r\n  <div>\r\n    filter shown with <input \r\n                          type=\"text\"\r\n                          value={newFilter}\r\n                          onChange={handleFilterChange}\r\n                      />\r\n  </div>\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst Error = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Error","import React from \"react\"\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className=\"success\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport personsService from './services/persons'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Error from './components/Error'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [success, setSuccess] = useState(null)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const remove = (e) => {\n    if (window.confirm(`delete ${e.name} ?`)) {\n      personsService\n        .remove(e.id)\n          .then(removedPerson => {\n            setPersons(persons.filter(p => p.id !== e.id))\n            setSuccess(\n              `Deleted ${e.name}`\n            )\n            setTimeout(() => {\n              setSuccess(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setError(\n              `Information of ${e.name} has already been removed from server`\n            )\n            setTimeout(() => {\n              setError(null)\n            }, 5000)\n            setPersons(persons.filter(p => p.name !== e.name))\n          })\n    }\n  }\n\n  const showUsers = (newFilter.length !== 0)\n    ? persons.filter(person => \n        person.name.toLowerCase().includes(newFilter.toLowerCase())\n      )\n    : persons\n\n  const addName = (event) => {\n    event.preventDefault()\n    const foundPerson = persons.find(p => p.name === newName.trim())\n    if (foundPerson) { \n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        personsService\n          .update(foundPerson.id, { ...foundPerson, number: newNumber })\n            .then(updatedPerson => {\n              setPersons(persons.map(p => p.id !== foundPerson.id ? p : updatedPerson))\n              setSuccess(\n                `${newName.trim()}'s number changed`\n              )\n              setTimeout(() => {\n                setSuccess(null)\n              }, 5000)\n            })\n          .catch(error => {\n            if (!error.response.data) {\n              setError(\n                `Information of ${foundPerson.name} has already been removed from server`\n              )\n              setPersons(persons.filter(p => p.name !== foundPerson.name))\n            } else if (error.response.data.error.startsWith('Validation')) {\n              setError(error.response.data.error)\n            } else {\n              setError(\n                `Information of ${foundPerson.name} has already been removed from server`\n              )\n              setPersons(persons.filter(p => p.name !== foundPerson.name))\n            }\n            setTimeout(() => {\n              setError(null)\n            }, 5000)\n          })\n      }\n    } else {\n      const personObject = {\n            name: newName.trim(),\n            number: newNumber,\n          }\n      personsService\n        .create(personObject)\n          .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setSuccess(\n            `Added ${newName.trim()}`\n          )\n          setTimeout(() => {\n            setSuccess(null)\n          }, 5000)\n          setNewName('')\n        })\n        .catch(error => {\n          setError(error.response.data.error)\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={success} />\n      <Error message={error} />\n\n      <Filter \n        newFilter={newFilter} \n        handleFilterChange={({ target }) => setNewFilter(target.value)} \n      />\n\n      <h3>Add a new</h3>\n\n      <PersonForm \n        newName={newName} \n        handleNameChange={({ target }) => setNewName(target.value)} \n        newNumber={newNumber} \n        handleNumberChange={({ target }) => setNewNumber(target.value)} \n        addName={addName} \n      />\n\n      <h3>Numbers</h3>\n\n      <Persons \n        showUsers={showUsers} \n        remove={remove} \n      />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\nimport App from './App'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)\n"],"sourceRoot":""}